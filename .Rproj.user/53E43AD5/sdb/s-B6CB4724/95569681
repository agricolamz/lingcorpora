{
    "collab_server" : "",
    "contents" : "#' Avar one page search\n#'\n#' Post query to the Avar Text Corpus (http://baltoslav.eu/avar/index.php). Don't forget to check main page for advanced query language.\n#' @param my.url Vector with a link\n#' @author George Moroz <agricolamz@gmail.com>\n#' @examples\n#' ava_one.page.get(\"http://baltoslav.eu/avar/index.php?xxx=магIарул*&met=kon&ks=ca&f=d&mova=en#wierch\")\n#'\n#' @import xml2\n#' @import selectr\n#' @import httr\n#' @import rvest\n\n\nava_one.page <- function(my.url){\n  # get page\n  page <- xml2::read_html(my.url)\n  # get context\n  page %>%\n    html_nodes(\"td:nth-child(1) > div:nth-child(2) > div:nth-child(6) > div:nth-child(2) > div:nth-child(1)\") %>%\n    html_text() ->\n    lines\n\n  # get query result\n  page %>%\n    html_nodes(\"td:nth-child(1) > div:nth-child(2) > div:nth-child(6) > div:nth-child(2) > div:nth-child(1) > b:nth-child(2)\") %>%\n    html_text() ->\n    query_word\n\n  # get final dataframe\n  text_parts <- unlist(stringr::str_split(lines, paste0(\" \", query_word, \" \")))\n  results <- data.frame(left.part = text_parts[1:20*2-1],\n                        center.part = query_word,\n                        right.part = text_parts[1:20*2])\n\n  return(results)\n  }\n",
    "created" : 1482311811561.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "1545989181",
    "id" : "95569681",
    "lastKnownWriteTime" : 1482319167,
    "last_content_update" : 1482319167991,
    "path" : "~/_DATA/OneDrive1/_Work/github/lingcorpora/lingcorpora.R/R/ava_one.page.R",
    "project_path" : "R/ava_one.page.R",
    "properties" : {
        "tempName" : "Untitled2"
    },
    "relative_order" : 4,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}